lab:
  description: SD-Access Fabric with Catalyst Center
  notes: |
    4x Cat9Kv UADP for SD-Access Fabric
    Border (192.168.244.11), CP (192.168.244.12), Edge1 (192.168.244.13), Edge2 (192.168.244.14)
    Management via VLAN 244 (192.168.244.0/24)
  title: SD-Access-Fabric
  version: 0.2.0
nodes:
  - id: n0
    label: Mgmt-VLAN244
    node_definition: external_connector
    x: 0
    y: -300
    configuration: "vlan244"
    interfaces:
      - id: i0
        label: port
        slot: 0
        type: physical
  - id: n1
    label: Mgmt-Switch
    node_definition: unmanaged_switch
    x: 0
    y: -150
    interfaces:
      - id: i0
        label: port0
        slot: 0
        type: physical
      - id: i1
        label: port1
        slot: 1
        type: physical
      - id: i2
        label: port2
        slot: 2
        type: physical
      - id: i3
        label: port3
        slot: 3
        type: physical
      - id: i4
        label: port4
        slot: 4
        type: physical
  - id: n2
    label: Fabric-Switch
    node_definition: unmanaged_switch
    x: 0
    y: 200
    interfaces:
      - id: i0
        label: port0
        slot: 0
        type: physical
      - id: i1
        label: port1
        slot: 1
        type: physical
      - id: i2
        label: port2
        slot: 2
        type: physical
      - id: i3
        label: port3
        slot: 3
        type: physical
  - id: n3
    label: SDA-Border
    node_definition: cat9000v-uadp
    x: -300
    y: 0
    tags:
      - "serial:CMLUADP001"
    configuration: |-
      hostname SDA-Border
      !
      interface GigabitEthernet0/0
       ip address 192.168.244.11 255.255.255.0
       no shutdown
      !
      ip route 0.0.0.0 0.0.0.0 192.168.244.4
      !
      enable secret Elma12743??
      username admin privilege 15 secret Elma12743??
      !
      line vty 0 15
       login local
       transport input ssh
      !
      ip ssh version 2
      !
      end
    interfaces:
      - id: i0
        label: Loopback0
        type: loopback
      - id: i1
        label: GigabitEthernet0/0
        slot: 0
        type: physical
      - id: i2
        label: GigabitEthernet1/0/1
        slot: 1
        type: physical
      - id: i3
        label: GigabitEthernet1/0/2
        slot: 2
        type: physical
  - id: n4
    label: SDA-CP
    node_definition: cat9000v-uadp
    x: -100
    y: 0
    tags:
      - "serial:CMLUADP002"
    configuration: |-
      hostname SDA-CP
      !
      interface GigabitEthernet0/0
       ip address 192.168.244.12 255.255.255.0
       no shutdown
      !
      ip route 0.0.0.0 0.0.0.0 192.168.244.4
      !
      enable secret Elma12743??
      username admin privilege 15 secret Elma12743??
      !
      line vty 0 15
       login local
       transport input ssh
      !
      ip ssh version 2
      !
      end
    interfaces:
      - id: i0
        label: Loopback0
        type: loopback
      - id: i1
        label: GigabitEthernet0/0
        slot: 0
        type: physical
      - id: i2
        label: GigabitEthernet1/0/1
        slot: 1
        type: physical
      - id: i3
        label: GigabitEthernet1/0/2
        slot: 2
        type: physical
  - id: n5
    label: SDA-Edge1
    node_definition: cat9000v-uadp
    x: 100
    y: 0
    tags:
      - "serial:CMLUADP003"
    configuration: |-
      hostname SDA-Edge1
      !
      interface GigabitEthernet0/0
       ip address 192.168.244.13 255.255.255.0
       no shutdown
      !
      ip route 0.0.0.0 0.0.0.0 192.168.244.4
      !
      enable secret Elma12743??
      username admin privilege 15 secret Elma12743??
      !
      line vty 0 15
       login local
       transport input ssh
      !
      ip ssh version 2
      !
      end
    interfaces:
      - id: i0
        label: Loopback0
        type: loopback
      - id: i1
        label: GigabitEthernet0/0
        slot: 0
        type: physical
      - id: i2
        label: GigabitEthernet1/0/1
        slot: 1
        type: physical
      - id: i3
        label: GigabitEthernet1/0/2
        slot: 2
        type: physical
  - id: n6
    label: SDA-Edge2
    node_definition: cat9000v-uadp
    x: 300
    y: 0
    tags:
      - "serial:CMLUADP004"
    configuration: |-
      hostname SDA-Edge2
      !
      interface GigabitEthernet0/0
       ip address 192.168.244.14 255.255.255.0
       no shutdown
      !
      ip route 0.0.0.0 0.0.0.0 192.168.244.4
      !
      enable secret Elma12743??
      username admin privilege 15 secret Elma12743??
      !
      line vty 0 15
       login local
       transport input ssh
      !
      ip ssh version 2
      !
      end
    interfaces:
      - id: i0
        label: Loopback0
        type: loopback
      - id: i1
        label: GigabitEthernet0/0
        slot: 0
        type: physical
      - id: i2
        label: GigabitEthernet1/0/1
        slot: 1
        type: physical
      - id: i3
        label: GigabitEthernet1/0/2
        slot: 2
        type: physical
links:
  # Management links: External Connector -> Mgmt Switch -> Cat9Kv GigabitEthernet1
  - id: l0
    n1: n0
    i1: i0
    n2: n1
    i2: i0
    label: ext-to-mgmt-sw
  - id: l1
    n1: n3
    i1: i1
    n2: n1
    i2: i1
    label: border-mgmt
  - id: l2
    n1: n4
    i1: i1
    n2: n1
    i2: i2
    label: cp-mgmt
  - id: l3
    n1: n5
    i1: i1
    n2: n1
    i2: i3
    label: edge1-mgmt
  - id: l4
    n1: n6
    i1: i1
    n2: n1
    i2: i4
    label: edge2-mgmt
  # Fabric links: Cat9Kv GigabitEthernet2 -> Fabric Switch
  - id: l5
    n1: n3
    i1: i2
    n2: n2
    i2: i0
    label: border-fabric
  - id: l6
    n1: n4
    i1: i2
    n2: n2
    i2: i1
    label: cp-fabric
  - id: l7
    n1: n5
    i1: i2
    n2: n2
    i2: i2
    label: edge1-fabric
  - id: l8
    n1: n6
    i1: i2
    n2: n2
    i2: i3
    label: edge2-fabric
